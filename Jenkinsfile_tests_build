# jenkins pipeline exécution des tests / tests de couverture : ajouter dépendance phpunit/ normes de dev (PSR-2) / build de l'application
pipeline { 
	agent any
	stages {
		stage('tests_build'){
			steps{
				echo 'install phpunit'
				sh 'composer require --dev symfony/phpunit-bridge'
				
				echo 'launch test'
				sh 'php bin/phpunit'
				
				echo 'launch symfony'
				sh 'cd my-project/'
        		sh '/var/lib/jenkins/.symfony/bin/symfony server:start'
				
			}
		}
	}
}
