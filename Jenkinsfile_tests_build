// jenkins pipeline exécution des tests / tests de couverture : ajouter dépendance phpunit/ normes de dev (PSR-2) / build de l'application
pipeline { 
	agent any
	stages {
		stage('tests_build'){
			steps{							
				dir('MSPR2/'){
					echo 'changement de branche'
					sh 'git checkout dev_test'
				}
				echo 'launch test'
				sh 'php vendor/phpunit/phpunit/phpunit MSPR2/tests'

				// echo 'launch symfony'
				// sh '/var/lib/jenkins/.symfony/bin/symfony server:start'
				// sh '/var/lib/jenkins/.symfony/bin/symfony server:stop'
				
				
			}
		}
	}
}
